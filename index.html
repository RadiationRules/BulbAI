<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BulbAI</title>
<style>
:root{
  --bg:#fff8e6;
  --text:#1f1f1f;
  --accent:#f7c948;
  --bot-msg:#fff7e0;
  --user-msg:#fff6c6;
  --shadow:rgba(0,0,0,0.08);
}
[data-theme="dark"]{
  --bg:#0f0d08;
  --text:#efeae0;
  --accent:#e6bd00;
  --bot-msg:#171412;
  --user-msg:#201b12;
  --shadow:rgba(0,0,0,0.6);
}

html, body{
  margin:0;
  padding:0;
  height:100%;
  width:100%;
  font-family:Inter,sans-serif;
  background:var(--bg);
  color:var(--text);
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

body::before{
  content:"";
  position:fixed;
  inset:0;
  background:linear-gradient(270deg,#f7c948,#ffe37f,#f7c948,#ffe37f);
  background-size:800% 800%;
  z-index:-1;
  animation:gradientBG 15s ease infinite;
}
@keyframes gradientBG{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

header{
  height:60px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:var(--accent);
  color:#2b2b2b;
  font-size:24px;
  font-weight:700;
  box-shadow:0 4px 10px var(--shadow);
  position:relative;
  z-index:2;
}

.theme-toggle{
  position:absolute;
  top:12px;
  right:12px;
  background:var(--bg);
  border:none;
  padding:8px 14px;
  border-radius:12px;
  font-weight:600;
  cursor:pointer;
  z-index:3;
  transition:transform 0.2s ease;
}
.theme-toggle:hover{transform:scale(1.05);}

.avatar{
  position:absolute;
  top:12px;
  left:12px;
  width:45px;
  height:45px;
  border-radius:50%;
  background:linear-gradient(135deg,var(--accent),#ffe37f);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:24px;
  color:#2b2b2b;
  box-shadow:0 4px 14px var(--shadow);
  cursor:pointer;
  z-index:3;
}
.avatar::before{content:"ðŸ’¡";}

main{
  flex:1;
  position:relative;
  width:100%;
  height:100%;
}

df-messenger{
  width:100%;
  height:100%;
  border-radius:0 !important;
  --df-messenger-bot-message: var(--bot-msg);
  --df-messenger-user-message: var(--user-msg);
  --df-messenger-font-color: var(--text);
  --df-messenger-send-icon: var(--accent);
}

/* Slide-in messages */
df-messenger::part(bot-message), df-messenger::part(user-message){
  border-radius:16px;
  box-shadow:0 3px 10px var(--shadow);
  animation:slideFade 0.4s ease forwards;
}
@keyframes slideFade{
  from{opacity:0;transform:translateY(20px);}
  to{opacity:1;transform:translateY(0);}
}

.quick-replies{
  position:absolute;
  bottom:90px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  z-index:4;
}
.quick-replies button{
  background:var(--accent);
  color:#2b2b2b;
  border:none;
  padding:8px 16px;
  border-radius:20px;
  cursor:pointer;
  font-weight:600;
  box-shadow:0 3px 8px var(--shadow);
  transition:transform 0.2s ease;
}
.quick-replies button:hover{transform:scale(1.05);}

/* Fade-in */
@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}
</style>
</head>
<body data-theme="light">

<header>BulbAI</header>
<div class="avatar"></div>
<button class="theme-toggle" id="themeToggle">Dark/Light</button>

<main>
  <df-messenger
    chat-title="BulbAI"
    agent-id="c3f3c818-72e2-4b69-bc4d-78c3f910fc11"
    language-code="en"
    chat-icon="https://link-to-your-icon.png"
    primary-color="#f7c948"
    accent-color="#ffe37f"
  ></df-messenger>

  <div class="quick-replies">
    <button onclick="sendQuick('Hello')">Hello</button>
    <button onclick="sendQuick('Help me')">Help me</button>
    <button onclick="sendQuick('Tell me a joke')">Tell me a joke</button>
  </div>
</main>

<script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
<script>
const body = document.body;
document.getElementById('themeToggle').addEventListener('click', ()=>{
  body.dataset.theme = body.dataset.theme === 'light' ? 'dark' : 'light';
});

function sendQuick(text){
  const df = document.querySelector('df-messenger');
  if(df && df.shadowRoot){
    const input = df.shadowRoot.querySelector('df-messenger-chat');
    if(input) input.send(text);
  }
}
</script>
</body>
</html>
