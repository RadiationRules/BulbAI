<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BulbAI</title>
<style>
:root{
  --bg:#fff8e6;
  --text:#1f1f1f;
  --accent:#f7c948;
  --bot-msg:#fff7e0;
  --user-msg:#fff6c6;
  --shadow:rgba(0,0,0,0.08);
  --header-bg:#f7c948;
  --bubble-radius:16px;
}
[data-theme="dark"]{
  --bg:#0f0d08;
  --text:#efeae0;
  --accent:#e6bd00;
  --bot-msg:#171412;
  --user-msg:#201b12;
  --shadow:rgba(0,0,0,0.6);
  --header-bg:#e6bd00;
}

*{margin:0;padding:0;box-sizing:border-box;font-family:Inter,sans-serif;}
body{background:var(--bg);color:var(--text);height:100vh;display:flex;flex-direction:column;overflow:hidden;transition:background 0.5s;}
header{
  height:60px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:var(--header-bg);
  color:#2b2b2b;
  font-size:24px;
  font-weight:700;
  box-shadow:0 4px 10px var(--shadow);
  position:relative;
  z-index:2;
  animation:fadeIn 0.6s ease forwards;
}
.theme-toggle{
  position:absolute;
  top:12px;right:12px;
  background:var(--accent);
  border:none;
  padding:8px 14px;
  border-radius:10px;
  cursor:pointer;
  font-weight:600;
  transition:all 0.2s ease;
  z-index:3;
}
.theme-toggle:hover{transform:scale(1.05);}
main{flex:1;position:relative;display:flex;flex-direction:column;overflow:hidden;}

/* Animated background gradient */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:linear-gradient(270deg,#f7c948,#ffe37f,#f7c948,#ffe37f);
  background-size:800% 800%;
  z-index:-1;
  animation:gradientBG 15s ease infinite;
}
@keyframes gradientBG{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

/* Floating lightbulb avatar */
.avatar{
  position:absolute;
  top:12px;
  left:12px;
  width:45px;
  height:45px;
  border-radius:50%;
  background:linear-gradient(135deg,var(--accent),#ffe37f);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  font-size:22px;
  color:#2b2b2b;
  box-shadow:0 4px 14px var(--shadow);
  z-index:3;
  cursor:pointer;
  transition:transform 0.2s ease;
}
.avatar:hover{transform:scale(1.1);}
.avatar::before{
  content:"ðŸ’¡";
  font-size:24px;
}

/* DF Messenger styling */
df-messenger{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  border-radius:0 !important;
  --df-messenger-bot-message: var(--bot-msg);
  --df-messenger-user-message: var(--user-msg);
  --df-messenger-font-color: var(--text);
  --df-messenger-send-icon: var(--accent);
  animation:fadeIn 0.6s ease forwards;
}

/* Bubble hover effect & slide-in */
df-messenger::part(bot-message), df-messenger::part(user-message){
  transition:all 0.3s ease;
  border-radius:var(--bubble-radius);
  box-shadow:0 3px 10px var(--shadow);
  animation:slideFade 0.4s ease forwards;
}
@keyframes slideFade{
  from{opacity:0;transform:translateY(20px);}
  to{opacity:1;transform:translateY(0);}
}
df-messenger::part(bot-message):hover, df-messenger::part(user-message):hover{transform:scale(1.02);}
df-messenger::part(send-icon){transition:transform 0.2s ease;}
df-messenger::part(send-icon):hover{transform:scale(1.2);}

/* Typing indicator */
df-messenger::part(bot-message):after{
  content:"";
  display:inline-block;
  width:6px;height:6px;
  margin-left:4px;
  background:var(--accent);
  border-radius:50%;
  animation:blink 1s infinite alternate;
}
@keyframes blink{
  0%{opacity:0;}
  50%{opacity:0.5;}
  100%{opacity:1;}
}

/* Quick replies */
.quick-replies{
  position:absolute;
  bottom:80px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:10px;
  z-index:5;
  animation:fadeIn 0.8s ease forwards;
}
.quick-replies button{
  background:var(--accent);
  color:#2b2b2b;
  border:none;
  padding:8px 16px;
  border-radius:20px;
  cursor:pointer;
  font-weight:600;
  box-shadow:0 3px 8px var(--shadow);
  transition:all 0.2s ease;
}
.quick-replies button:hover{transform:scale(1.05);}

/* Fade in animation */
@keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}
</style>
</head>
<body data-theme="light">

<header>BulbAI</header>
<div class="avatar"></div>
<button class="theme-toggle" id="themeToggle">Dark/Light</button>

<main>
  <!-- Fullscreen Dialogflow chat -->
  <df-messenger
    chat-title="BulbAI"
    agent-id="c3f3c818-72e2-4b69-bc4d-78c3f910fc11"
    language-code="en"
    chat-icon="https://link-to-your-icon.png"
    primary-color="#f7c948"
    accent-color="#ffe37f"
  ></df-messenger>

  <!-- Quick replies example -->
  <div class="quick-replies">
    <button onclick="sendQuick('Hello')">Hello</button>
    <button onclick="sendQuick('Help me')">Help me</button>
    <button onclick="sendQuick('Tell me a joke')">Tell me a joke</button>
  </div>
</main>

<script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
<script>
// Dark/Light mode toggle
const body = document.body;
document.getElementById('themeToggle').addEventListener('click', ()=>{
  body.dataset.theme = body.dataset.theme === 'light' ? 'dark' : 'light';
});

// Quick replies send function
function sendQuick(text){
  const df = document.querySelector('df-messenger');
  if(df && df.shadowRoot){
    const input = df.shadowRoot.querySelector('df-messenger-chat');
    if(input) input.send(text);
  }
}
</script>
</body>
</html>
