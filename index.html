<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BulbAI</title>
<meta name="google-site-verification" content="89T27xrgDiNqC6Y5qkq2iwNjI6q4r4NjREIv2DMMjZs" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#0b0b0b;
  --panel:#121212;
  --accent:#00fff0;
  --accent-dark:#00b3a3;
  --text:#f0f0f0;
  --muted:#888;
  --radius:12px;
  --shadow: rgba(0,255,255,0.2);
}

/* GLOBAL STYLES */
*{box-sizing:border-box;margin:0;padding:0;}
html,body{height:100%;font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);overflow:hidden;}
a{text-decoration:none;color:var(--accent);}
a:hover{text-decoration:underline;}
.button{padding:0.8rem 1.5rem;border-radius:var(--radius);border:none;background:var(--accent);color:#000;font-weight:700;cursor:pointer;transition:0.3s;}
.button:hover{background:var(--accent-dark);transform:scale(1.05);box-shadow:0 0 20px var(--accent);}

/* LANDING PAGE */
#landing{
  position:relative;width:100%;height:100vh;
  display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;
  overflow:hidden;
}
#landing video{
  position:absolute;top:0;left:0;width:100%;height:100%;
  object-fit:cover;z-index:-2;filter:brightness(0.4);
}
#landing::after{
  content:"";position:absolute;top:0;left:0;width:100%;height:100%;
  background:linear-gradient(135deg, rgba(0,255,255,0.1), rgba(0,0,0,0.5));z-index:-1;
}
#landing h1{
  font-size:4rem;margin-bottom:1rem;opacity:0;
  animation:fadeIn 2s forwards;
}
#landing p{
  font-size:1.3rem;margin-bottom:2rem;opacity:0;
  animation:fadeIn 2s 0.5s forwards;
}
#landing .buttons{display:flex;gap:1rem;opacity:0;animation:fadeIn 2s 1s forwards;}
.google-btn{display:flex;align-items:center;gap:0.5rem;background:#fff;color:#000;border:1px solid #ddd;}
.google-btn img{width:20px;height:20px;}

/* CHAT PAGE */
#chatContainer{
  display:none;width:100%;height:100vh;flex-direction:column;
}
.topbar{
  display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background:var(--panel);
  border-bottom:1px solid var(--accent);box-shadow:0 0 20px var(--accent);
}
#iframeWrapper{
  flex:1;width:100%;height:100%;padding:20px;
  border:2px solid var(--accent);border-radius:var(--radius);
  box-shadow:0 0 40px var(--accent);overflow:hidden;
  animation:fadeIn 1s ease forwards;
  background: linear-gradient(135deg, #000c0c, #001212);
}

/* PROFILE MENU */
#profileMenu{
  display:none;position:absolute;top:60px;right:16px;background:var(--panel);
  border-radius:var(--radius);box-shadow:0 8px 24px var(--shadow);
  overflow:hidden;min-width:160px;z-index:1000;
}
#profileMenu button{
  width:100%;border:none;padding:10px;background:none;cursor:pointer;text-align:left;
}
#profileMenu button:hover{background:var(--accent);color:#000;}

/* PROFILE PIC HOVER */
#userProfile{
  width:40px;height:40px;border-radius:50%;cursor:pointer;
  border:2px solid var(--accent);transition:0.3s;
}
#userProfile:hover{box-shadow:0 0 15px var(--accent);transform:scale(1.1);}

/* ANIMATIONS */
@keyframes fadeIn{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
</style>
</head>
<body>

<!-- LANDING PAGE -->
<div id="landing">
  <video autoplay muted loop playsinline>
    <source src="https://cdn.videvo.net/videvo_files/video/free/2019-08/large_watermarked/190725_01_Software_1080p_029_preview.mp4" type="video/mp4">
  </video>
  <h1>ðŸ’¡ BulbAI</h1>
  <p>Your AI companion for Brainstorming, Coding & Building</p>
  <div class="buttons">
    <button id="tryBtn" class="button">Try Now</button>
    <button id="googleSignInBtn" class="button google-btn">
      <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="Google"> Sign In
    </button>
  </div>
</div>

<!-- CHAT CONTAINER -->
<div id="chatContainer">
  <div class="topbar">
    <h2>BulbAI Chat</h2>
    <img id="userProfile" src="" alt="Profile">
  </div>
  <div id="iframeWrapper"></div>
</div>

<div id="profileMenu">
  <button id="profileToggleTheme">Toggle Dark/Light</button>
  <button id="signOutBtn">Sign Out</button>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
import { getAuth, GoogleAuthProvider, signInWithPopup, signOut } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-auth.js";

const firebaseConfig = {
 apiKey: "AIzaSyCGFij1pFUVNFP63QHxEq619c9jPnskzxY",
 authDomain: "bulbai-21f09.firebaseapp.com",
 projectId: "bulbai-21f09",
 storageBucket: "bulbai-21f09.firebasestorage.app",
 messagingSenderId: "366775652166",
 appId: "1:366775652166:web:22db16f4f87f9a60625f47",
 measurementId: "G-G09FQQ53XP"
};
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

// DOM
const landing = document.getElementById('landing');
const chatContainer = document.getElementById('chatContainer');
const tryBtn = document.getElementById('tryBtn');
const googleSignInBtn = document.getElementById('googleSignInBtn');
const userProfile = document.getElementById('userProfile');
const profileMenu = document.getElementById('profileMenu');
const profileToggleTheme = document.getElementById('profileToggleTheme');
const signOutBtn = document.getElementById('signOutBtn');
const iframeWrapper = document.getElementById('iframeWrapper');

function showChat(user){
  landing.style.display='none';
  chatContainer.style.display='flex';
  userProfile.src = user?.photoURL || 'https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg';
  iframeWrapper.innerHTML = '';
  const iframe = document.createElement('iframe');
  iframe.src = "https://www.chatbase.co/chatbot-iframe/W5ZOQa_6wOPIOFFfMXkIY";
  iframe.style.width="100%";
  iframe.style.height="100%";
  iframe.style.border="none";
  iframeWrapper.appendChild(iframe);
}

// Google Sign In
googleSignInBtn.onclick = async ()=>{
  const provider = new GoogleAuthProvider();
  try{
    const result = await signInWithPopup(auth, provider);
    showChat(result.user);
  }catch(e){alert(e.message);}
}

// Try button
tryBtn.onclick = ()=>showChat(null);

// Auth state
auth.onAuthStateChanged(user=>{if(user) showChat(user);});

// Profile menu
userProfile.onclick = ()=>profileMenu.style.display = profileMenu.style.display==='block'?'none':'block';
window.onclick = e=>{if(!userProfile.contains(e.target)&&!profileMenu.contains(e.target)) profileMenu.style.display='none';}
profileToggleTheme.onclick = ()=>document.body.classList.toggle('dark-mode');
signOutBtn.onclick = async ()=>{await signOut(auth);location.reload();}
</script>
</body>
</html>
